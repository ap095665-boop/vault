<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Calculator</title>

<style>
body{background:#111;font-family:monospace;color:#0f0;text-align:center}
#calc{margin-top:60px}
button{width:70px;height:60px;margin:5px;font-size:18px;border:none;border-radius:10px;background:#222;color:#0f0}
#display{width:300px;height:60px;background:#000;color:#0f0;font-size:26px;margin-bottom:15px;text-align:right;padding:10px;border-radius:10px}
.hidden{display:none}
.box{background:#000;padding:10px;margin:10px;border-radius:10px}
input{width:70%;padding:8px;margin:5px;background:#111;color:#0f0;border:none}
.copy{background:#333}
</style>
</head>

<body>

<!-- Calculator -->
<div id="calc">
<input id="display" readonly><br>

<div>
<button onclick="press('7')">7</button>
<button onclick="press('8')">8</button>
<button onclick="press('9')">9</button>
</div>
<div>
<button onclick="press('4')">4</button>
<button onclick="press('5')">5</button>
<button onclick="press('6')">6</button>
</div>
<div>
<button onclick="press('1')">1</button>
<button onclick="press('2')">2</button>
<button onclick="press('3')">3</button>
</div>
<div>
<button onclick="press('0')">0</button>
<button onclick="check()">=</button>
<button onclick="clr()">C</button>
</div>
</div>

<!-- Vault -->
<div id="vault" class="hidden">
<h3>SECURE VAULT</h3>

<h4>Bank</h4>
<button onclick="addBank()">+ Bank</button>
<div id="banks"></div>

<h4>Cards</h4>
<button onclick="addCard()">+ Card</button>
<div id="cards"></div>

<h4>UPI</h4>
<button onclick="addUPI()">+ UPI</button>
<div id="upi"></div>

<h4>Wallet</h4>
<button onclick="addWallet()">+ Wallet</button>
<div id="wallet"></div>

<h4>Custom</h4>
<button onclick="addCustom()">+ Custom</button>
<div id="custom"></div>

<br>
<button onclick="lock()">LOCK</button>
</div>

<script>
const secret="262552";
let input="";

// display
function press(n){input+=n;display.value=input}
function clr(){input="";display.value=""}

// check calculator code
function check(){
 if(input===secret){
  fingerprint();
 }
 input="";display.value="";
}

// fingerprint auth
async function fingerprint(){
 try{
  const id=localStorage.getItem("vaultKey");
  if(!id){
   const cred=await navigator.credentials.create({
    publicKey:{
     challenge:new Uint8Array(32),
     rp:{name:"Vault"},
     user:{id:new Uint8Array(16),name:"user",displayName:"user"},
     pubKeyCredParams:[{type:"public-key",alg:-7}],
     authenticatorSelection:{authenticatorAttachment:"platform",userVerification:"required"}
    }
   });
   localStorage.setItem("vaultKey",btoa(String.fromCharCode(...new Uint8Array(cred.rawId))));
  }else{
   const raw=Uint8Array.from(atob(id),c=>c.charCodeAt(0));
   await navigator.credentials.get({
    publicKey:{
     challenge:new Uint8Array(32),
     allowCredentials:[{id:raw,type:"public-key"}],
     userVerification:"required"
    }
   });
  }

  openVault();
 }catch(e){alert("Fingerprint failed")}
}

// open vault
function openVault(){
 document.getElementById("calc").style.display="none";
 document.getElementById("vault").classList.remove("hidden");
 loadData();
}

// lock
function lock(){location.reload()}

// save/load encrypted
function saveData(){
 localStorage.setItem("vaultData",btoa(unescape(encodeURIComponent(document.getElementById("vault").innerHTML))));
}
function loadData(){
 const d=localStorage.getItem("vaultData");
 if(d){
  document.getElementById("vault").innerHTML=decodeURIComponent(escape(atob(d)));
 }
}

// copy
function copyText(el){navigator.clipboard.writeText(el.value)}

// bank
let bankCount=0;
function addBank(){
 bankCount++;
 let d=document.createElement("div");
 d.className="box";
 d.innerHTML=`Bank ${bankCount}<br>
 <input placeholder="Account/IFSC">
 <button class="copy" onclick="copyText(this.previousElementSibling)">Copy</button>`;
 banks.appendChild(d);
 saveData();
}

// card
function addCard(){
 let d=document.createElement("div");
 d.className="box";
 d.innerHTML=`<input placeholder="Card number">
 <button class="copy" onclick="copyText(this.previousElementSibling)">Copy</button>`;
 cards.appendChild(d);
 saveData();
}

// upi
function addUPI(){
 let d=document.createElement("div");
 d.className="box";
 d.innerHTML=`<input placeholder="UPI ID">
 <button class="copy" onclick="copyText(this.previousElementSibling)">Copy</button>`;
 upi.appendChild(d);
 saveData();
}

// wallet
function addWallet(){
 let d=document.createElement("div");
 d.className="box";
 d.innerHTML=`<input placeholder="Wallet">
 <button class="copy" onclick="copyText(this.previousElementSibling)">Copy</button>`;
 wallet.appendChild(d);
 saveData();
}

// custom
function addCustom(){
 let t=prompt("Title");
 if(!t) return;
 let d=document.createElement("div");
 d.className="box";
 d.innerHTML=`${t}<br>
 <input placeholder="Data">
 <button class="copy" onclick="copyText(this.previousElementSibling)">Copy</button>`;
 custom.appendChild(d);
 saveData();
}
</script>
</body>
</html>
