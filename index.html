<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Calculator</title>

<style>
body{background:#0b0b0b;font-family:monospace;color:#00ff88;text-align:center}
#calc{margin-top:60px}
button{width:70px;height:60px;margin:6px;font-size:18px;border:none;border-radius:12px;background:#161616;color:#00ff88}
#display{width:300px;height:60px;background:#000;color:#00ff88;font-size:26px;margin-bottom:15px;text-align:right;padding:10px;border-radius:10px}
.hidden{display:none}
.box{background:#111;padding:12px;margin:12px;border-radius:12px}
input{width:70%;padding:10px;margin:5px;background:#000;color:#00ff88;border:none;border-radius:6px}
.copy{background:#222;width:65px;height:35px}
.bigbtn{width:220px;height:45px}
</style>
</head>

<body>

<!-- CALCULATOR LOCK -->
<div id="calc">
<input id="display" readonly><br>

<div>
<button onclick="press('7')">7</button>
<button onclick="press('8')">8</button>
<button onclick="press('9')">9</button>
</div>
<div>
<button onclick="press('4')">4</button>
<button onclick="press('5')">5</button>
<button onclick="press('6')">6</button>
</div>
<div>
<button onclick="press('1')">1</button>
<button onclick="press('2')">2</button>
<button onclick="press('3')">3</button>
</div>
<div>
<button onclick="press('0')">0</button>
<button onclick="unlock()">=</button>
<button onclick="clr()">C</button>
</div>
</div>

<!-- VAULT -->
<div id="vault" class="hidden">
<h2>PRIVATE VAULT</h2>

<h3>ğŸ¦ Bank</h3>
<button class="bigbtn" onclick="addField('bank')">+ Add Bank</button>
<div id="bank"></div>

<h3>ğŸ’³ Cards</h3>
<button class="bigbtn" onclick="addField('card')">+ Add Card</button>
<div id="card"></div>

<h3>ğŸ“± UPI</h3>
<button class="bigbtn" onclick="addField('upi')">+ Add UPI</button>
<div id="upi"></div>

<h3>ğŸ‘› Wallet</h3>
<button class="bigbtn" onclick="addField('wallet')">+ Add Wallet</button>
<div id="wallet"></div>

<h3>ğŸ§© Custom</h3>
<button class="bigbtn" onclick="addField('custom')">+ Add Custom</button>
<div id="custom"></div>

<br><br>
<button class="bigbtn" onclick="saveData()">ğŸ’¾ SAVE DATA</button>
<button class="bigbtn" onclick="lock()">ğŸ”’ LOCK</button>
</div>

<script>
const secret="262552";
let calc="";

function press(n){calc+=n;display.value=calc}
function clr(){calc="";display.value=""}

function unlock(){
 if(calc===secret){
  document.getElementById("calc").style.display="none";
  document.getElementById("vault").classList.remove("hidden");
  loadData();
 }else{
  alert("Wrong code");
 }
 calc="";display.value="";
}

function lock(){location.reload()}

// ---------- IndexedDB permanent storage ----------
let db;
const request=indexedDB.open("MY_PRIVATE_VAULT",1);

request.onupgradeneeded=e=>{
 db=e.target.result;
 db.createObjectStore("vault",{keyPath:"id"});
};

request.onsuccess=e=>{
 db=e.target.result;
};

// SAVE
function saveData(){
 const data={
  bank:bank.innerHTML,
  card:card.innerHTML,
  upi:upi.innerHTML,
  wallet:wallet.innerHTML,
  custom:custom.innerHTML
 };

 const tx=db.transaction(["vault"],"readwrite");
 const store=tx.objectStore("vault");
 store.put({id:"data",content:data});

 alert("Saved permanently âœ”");
}

// LOAD
function loadData(){
 const tx=db.transaction(["vault"],"readonly");
 const store=tx.objectStore("vault");
 const req=store.get("data");

 req.onsuccess=()=>{
  if(req.result){
   const d=req.result.content;
   bank.innerHTML=d.bank||"";
   card.innerHTML=d.card||"";
   upi.innerHTML=d.upi||"";
   wallet.innerHTML=d.wallet||"";
   custom.innerHTML=d.custom||"";
  }
 };
}

// ADD FIELD
function addField(section){
 let d=document.createElement("div");
 d.className="box";
 d.innerHTML=`<input placeholder="Enter data">
 <button class="copy" onclick="copyText(this)">Copy</button>`;
 document.getElementById(section).appendChild(d);
}

// COPY
function copyText(btn){
 navigator.clipboard.writeText(btn.previousElementSibling.value);
}
</script>
</body>
</html>
